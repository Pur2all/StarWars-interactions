<!DOCTYPE html>
<html lang="it" class="h-100">
<head>
    <%- include('./headLib.ejs') %>
    <link href="/css/films.css" rel="stylesheet">
    <script src="/js/utils.js"></script>
    <title>Lista personaggi</title>
</head>
<body class="d-flex h-100 text-center text-white bg-dark"> 
  <div class="container-fluid d-flex p-0 w-100 h-100 mx-0 flex-column">
    <header class="mb-auto">
      <div class="container-fluid p-0">
        <%- include('./nav.ejs') %>
      </div> 
    </header>

    <main class="container-fluid mx-auto">
      <% for(var i=0; i<6; i++) {%>
        <% if (i % 3 == 0) { %>
          <div class="row d-flex justify-content-center" style="margin-bottom: 20px;">
        <% } %>  
        <div class="col-sm-3">
          <div class="card" style="background-color: #212529ab!important;">
            <div class="card-body">
              <% if(characters[i]['image'] != null) {%>
                <span><img src="<%= characters[i]['image'] %>" style="width: 70%;height: 160px;background-size: cover;" class="img-thumbnail" alt="img_not_found"></span>
              <% } 
                else
                { %>
                <span><i class="fas fa-male fa-10x p-2"></i></span>
              <%}
              %>  
              <h5 class="card-title text-truncate" style="max-width: 400px;"><%= characters[i]['name'] %></h5>
              <a href="/character/<%= characters[i]['name'] %>" class="btn btn-warning">Vedi scheda personaggio</a>
            </div>
          </div>
        </div>
        <% if (i % 3 == 2) { %>
        </div>
        <% } %>  
      <% } %>
      <nav aria-label="Page navigation example">
        <ul id="paginator" class="pagination justify-content-center">
        </ul>
      </nav>
    </main>
  
    <%- include('./footer.ejs') %>
  </div>
 
</body>
<script> 
  var length = JSON.parse(htmlDecode("<%= JSON.stringify(characters.length) %>"));
  spawnPagination(length);
</script>
</html>